{% extends "base.html" %}

{% block content %}
<h1>Students in Grade {{ grade_level }}</h1>

<div style="display: flex; flex-wrap: wrap; gap: 20px;">
    {% for s in students %}
    <div style="border: 1px solid #140303; border-radius: 10px; padding: 10px; width: 200px; text-align: center;">
        {% if s.profile_pic %}
            <img src="{{ url_for('static', filename='uploads/' + s.profile_pic) }}" 
                 alt="Profile Pic" style="width: 100px; height: 100px; border-radius: 50%; object-fit: cover;">
        {% else %}
            <img src="{{ url_for('static', filename='images/default_profile.png') }}" 
                 alt="Profile Pic" style="width: 100px; height: 100px; border-radius: 50%; object-fit: cover;">
        {% endif %}
        <h3>{{ s.first_name }} {{ s.second_name or '' }} {{ s.last_name }}</h3>
        <p>{{ s.gender }}</p>
        <p>DOB: {{ s.date_of_birth.strftime('%Y-%m-%d') }}</p>
    </div>
    {% endfor %}
</div>

<p>
    <a href="{{ url_for('grade_levels') }}">Back to Grade Levels</a> |
    <a href="{{ url_for('home') }}">Back to Home</a>
</p>
{% endblock %}
